@page "/dashboard/report/summary"

@using TimeTracker.Web.Pages.Dashboard.Shared
@using TimeTracker.Web.Pages.Dashboard.Report.Summary.Parts

@inherits BaseComponent
@layout Layout

<RadzenCard Style="margin: 10px auto;">

    <RadzenChart>
        <RadzenColumnSeries 
            Data="@_byDateItems" 
            CategoryProperty="Date"
            LineType="LineType.Dashed"
            ValueProperty="DurationAsMillis"
            Title="By Date"
        >
            <RadzenSeriesDataLabels Visible="false" />
        </RadzenColumnSeries>
        <RadzenColumnOptions Radius="5" />
        <RadzenValueAxis Min="0" Step="86400000" Formatter="FormatterDuration">
            <RadzenGridLines Visible="true" />
        </RadzenValueAxis>
        <RadzenLegend Visible="false" />
    </RadzenChart>
</RadzenCard>

<RadzenCard Style="margin: 10px auto;">
    @if (_state.Value.SummaryReportData?.GroupedByDay != null)
    {
        <ByDateTable Items="@_state.Value.SummaryReportData.GroupedByDay"></ByDateTable>
    }
    @if (_state.Value.SummaryReportData?.GroupedByClient != null)
    {
        <ByClientTable Items="@_state.Value.SummaryReportData.GroupedByClient"></ByClientTable>
    }
    @if (_state.Value.SummaryReportData?.GroupedByProject != null)
    {
        <ByProjectTable Items="@_state.Value.SummaryReportData.GroupedByProject"></ByProjectTable>
    }
    @if (_state.Value.SummaryReportData?.GroupedByMonth != null)
    {
        <ByMonthTable Items="@_state.Value.SummaryReportData.GroupedByMonth"></ByMonthTable>
    }
</RadzenCard>
