@page "/login"

@using TimeTracker.Api.Shared.Dto.RequestsAndResponses.Public.User
@using TimeTracker.Web.Pages.Landing.Shared

@inherits BaseComponent
@layout Layout

<div class="row d-flex justify-content-center">
    <div class="col-xl-4 p-3">
        <RadzenCard>
            <h2 class="mb-4">Sign In</h2>
            <RadzenTemplateForm TItem="LoginRequest" Data="@model" Submit="HandleSubmit">
                <DataAnnotationsValidator/>
                <ValidationSummary/>

                <div class="mb-2">
                    <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">
                        Enter your email
                    </RadzenText>
                    <RadzenTextBox @bind-Value="model.Email" Class="w-100 mb-3 col"/>
                </div>
                <div class="mb-2">
                    <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">
                        Your password
                    </RadzenText>
                    <RadzenPassword @bind-Value="model.Password" Class="w-100 mb-3 col"/>
                </div>
                @if (_isLoading)
                {
                    <RadzenProgressBar Value="100" ShowValue="false" Mode="ProgressBarMode.Indeterminate"/>
                }
                else
                {
                    <RadzenButton
                        ButtonType="ButtonType.Submit"
                        Text="Login"/>
                }
            </RadzenTemplateForm>
        </RadzenCard>
    </div>
</div>
